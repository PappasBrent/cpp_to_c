triads:
  - un-preprocessed: |-
      #define DYN_X x

      int main(void) {
        int x = 1;
        int y, z;
        y = DYN_X;
        z = DYN_X;
        return 0;
      }
    preprocessed: |-
      int main(void) {
        int x = 1;
        int y, z;
        y = x;
        z = x;
        return 0;
      }
    converted: |-
      int DYN_X(int x) { return x; }

      int main(void) {
        int x = 1;
        int y, z;
        y = DYN_X(x);
        z = DYN_X(x);
        return 0;
      }

    comments: |-
      A macro whose body is a free variable that does not suffer from
      side-effects is converted to a function which includes the free variable
      in its parameter list, and returns the value of that free variable.

      All invocations of the macro are replaced with calls to the function,
      with the free variable passed as an argument each time.

  - un-preprocessed: |-
      #define COPY_VAR(var) var

      int main(void) {
        int z = 1;
        int x = COPY_VAR(z);
        return 0;
      }
    preprocessed: |-
      int main(void) {
        int z = 1;
        int x = z;
        return 0;
      }
    converted: |-
      int COPY_VAR(int var) { return var; }

      int main(void) {
        int z = 1;
        int x = COPY_VAR(z);
        return 0;
      }
    comments: |-
      A function-like macro whose body is a parameter that does not
      suffer from side-effects is converted to a function which includes the
      parameter in its parameter list, and returns the value of that parameter.

      All invocations of the macro are left as-is, since they follow the
      same production rules as function calls.
